% !TEX TS-program = pdflatex
% !TEX encoding = ISOLatin2

\documentclass[10pt,a4paper,parskip]{scrbook}
\usepackage[T1]{fontenc}
\usepackage{textcomp}
\usepackage[scaled=.92]{helvet}
\usepackage{courier}
\usepackage{amsmath}
\usepackage{amssymb}
%\usepackage{mathabx}% for circles in tables
\usepackage{pifont}
%\usepackage[varg]{txfonts}
\usepackage{tikz}
\usetikzlibrary{shapes,shadows,arrows,patterns,trees,automata,positioning,snakes}
\usetikzlibrary{decorations.text}
\usetikzlibrary{decorations.fractals}
\usetikzlibrary{decorations.markings}
\usetikzlibrary{decorations.pathmorphing}
\usetikzlibrary{decorations.text}
\usetikzlibrary{decorations.footprints}
\usetikzlibrary{decorations.pathreplacing}
\usetikzlibrary{decorations.shapes}

\usepackage[active,tightpage]{preview}
\PreviewEnvironment{tikzpicture}


\pagestyle{empty}


\begin{document}


\include{setup_math}

%\tikzstyle{every node}=[font=\large]
\tikzstyle{graphnode}=[fill=black!20,circle,inner sep=5pt,draw]
\tikzstyle{emptynode}=[fill=white,circle,inner sep=5pt,draw]
\tikzstyle{sinknode}=[style=graphnode,fill=black!60]
\tikzstyle{descnode}=[draw,rounded corners,node distance=1.7cm,inner sep=7pt,text width=4em,text centered]
\tikzstyle{lowdescnode}=[style=descnode,node distance=1.1cm]
\tikzstyle{level 1}=[level distance=3cm,sibling distance=8cm]
\tikzstyle{level 2}=[level distance=3cm,sibling distance=5cm]
\tikzstyle{level 3}=[level distance=3cm,sibling distance=3cm]
  


\tikzstyle{building} = [draw,outer sep=7,inner sep=7,minimum size=57,line width=1, very thick, draw=black!55, top color=white,bottom color=black!20]
\tikzstyle{node} = [shape=circle, minimum size=0.5cm, circular drop shadow, text=black, very thick, draw=orange!55, top color=white,bottom color=orange!20, text width=0.3cm, align=center]


\tikzstyle{default_edge} = [draw=orange!55, line width=2]
\tikzstyle{no_edge} = [dashed, draw=black!20, line width=0.5]



\tikzstyle{junction} = [shape=circle, minimum size=0.5cm, circular drop shadow, text=black, very thick, draw=black!55, top color=white,bottom color=black!20, text width=0.3cm, align=center]
\tikzstyle{street} = [shape=diamond, minimum size=1cm, draw=black!55, very thick, fill=black!30]
\tikzstyle{dead end} = [outer sep=0,inner sep=0,minimum size=0]

\tikzstyle{start} = [  font={\huge\bfseries}, shape=circle, minimum size=0.5cm, circular drop shadow, text=black, very thick, draw=black!55, top color=white,bottom color=red!80, text width=0.5cm, align=center]
\tikzstyle{goal} = [font={\huge\bfseries}, shape=circle, minimum size=0.5cm, circular drop shadow, text=black, very thick, draw=black!55, top color=white,bottom color=green!80, text width=0.5cm, align=center]

\tikzstyle{street edge} = [draw=black!55, line width=2]


\tikzstyle{routing edge} = [->, draw=green!55, line width=5]

\tikzstyle{face routing edge} = [->, draw=red!55, line width=5]






\begin{tikzpicture}[ every label/.style={ font={\LARGE}}]

%\useasboundingbox (2,0) rectangle (12.5,16.5);

\node (v84) at (5,8) [goal] {D};
\node (v144) at (15,5) [building] {move me!};
\node (v136) at (7,8) [building] {};
\node (v102) at (11,6) [building] {};
\node (v91) at (14.5,8) [node] {};
\node (v79) at (15,2) [node] {};
\node (v97) at (10,3) [building] {shift me!};
\node (v99) at (7.5,4.5) [node] {R};
\node (v100) at (12,4.5) [node] {};
\node (v101) at (7,6) [building] {drag me!};
\node (v104) at (18.5,5) [start] {S};
\node (v120) at (5,4.5) [node] {};
\node (v121) at (8,1.5) [node] {};
\node (v122) at (10,8) [node] {L};
\node (v138) at (9,6) [building] {};
\node (v150) at (13,7) [node] {};

\draw[default_edge] (v79) to (v121);
\draw[routing edge] (v91) to (v122);
\draw[default_edge] (v104) to (v79);
\draw[routing edge] (v104) to (v91);
\draw[default_edge] (v150) to (v91);
\draw[default_edge] (v100) to (v79);
\draw[routing edge] (v99) to (v120);
\draw[routing edge] (v120) to (v84);
\draw[face routing edge] (v100) to (v99);
\draw[default_edge] (v99) to (v121);
\draw[face routing edge] (v122) to (v150);
\draw[face routing edge] (v150) to (v100);
\draw[default_edge] (v100) to (v91);

%\draw [draw=red!55, very thick] (v84) circle (4.6cm);






%add border
\foreach \border in {0.2}
  \useasboundingbox (current bounding box.south west)+(-\border,-\border) rectangle (current bounding box.north east)+(\border,\border);




\end{tikzpicture}






\end{document}  